document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("quoteForm");if(e){const t=document.getElementById("productCategory"),o=document.getElementById("otherCategoryGroup");t&&o&&t.addEventListener("change",function(){"other"===this.value?o.classList.remove("d-none"):o.classList.add("d-none")});const n=document.getElementById("photoUpload"),d=document.getElementById("photoPreview");if(n&&d){const e=document.getElementById("removePhoto");n.addEventListener("change",function(){if(this.files&&this.files[0]){const t=new FileReader;t.onload=function(t){d.innerHTML=`<img src="${t.target.result}" class="img-thumbnail mb-2" alt="AperÃ§u de la photo">`,e.classList.remove("d-none")},t.readAsDataURL(this.files[0])}else d.innerHTML="",e.classList.add("d-none")}),e.addEventListener("click",function(t){t.preventDefault(),n.value="",d.innerHTML="",e.classList.add("d-none")})}e.addEventListener("submit",function(t){let o=!0;const n=e.querySelectorAll("input, textarea, select");n.forEach(e=>{e.classList.remove("is-invalid"),e.required&&!e.value.trim()&&(e.classList.add("is-invalid"),o=!1)});const d=document.getElementById("email");d&&d.value&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.value)&&(d.classList.add("is-invalid"),o=!1);const a=document.getElementById("phone");a&&a.value&&!/^[0-9+\s()-]{8,15}$/.test(a.value)&&(a.classList.add("is-invalid"),o=!1),o||t.preventDefault()})}}) 